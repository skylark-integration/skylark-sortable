/**
 * skylark-sortable - A version of sortable.js that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-sortable/
 * @license MIT
 */
define(["skylark-langx/skylark","skylark-langx/langx","skylark-langx-hoster/isBrowser","skylark-langx-hoster/isMobile","skylark-domx-query","skylark-domx-browser","skylark-domx-noder","skylark-domx-finder","skylark-domx-geom","skylark-domx-styler","skylark-domx-eventer","skylark-domx-transforms","skylark-domx-scrolls/scrollingElement","skylark-domx-layouts/oriented","skylark-devices-points/touch","./autoscroll","./fallback/MousedDragDrop"],function(e,t,r,a,l,n,o,i,s,g,d,c,u,k,v,b,f){"use strict";var m="Sortable"+(new Date).getTime(),h={log:function(e,t){l("#console").append("<div>"+e+":"+t+"</div>")},expando:m,activeGroup:null,active:null,putSortable:null,sortables:[],cloneEl:null,ignoreNextClick:!1,awaitingDragStarted:!1,touchEvt:null,prepare:function(e){this.draggable=e,e.nativeDraggable||(this._fallbacker=new f(this))},start:function(e,t){this.draggable=e;var r=e.elm().ownerDocument;d.on(r,"dragover",this.nearestEmptyInsertDetectEvent),this.draggable.nativeDraggable&&d.on(document,"dragover",this._checkAlignment)},over:function(e){},end:function(e){d.off(document,"dragover",this.nearestEmptyInsertDetectEvent),this.draggable.nativeDraggable&&d.off(document,"dragover",this._checkAlignment),this._nulling()},nearestEmptyInsertDetectEvent:function(e){if(h.draggable.dragEl){var t=h._detectNearestEmptySortable(e.clientX,e.clientY);if(t){var r={};for(var a in e)r[a]=e[a];r.target=r.rootEl=t,r.preventDefault=void 0,r.stopPropagation=void 0,t[m]._onDragOver(r)}}},_detectNearestEmptySortable:function(e,t){for(var r=this.sortables,a=0;a<r.length;a++)if(!i.lastChild(r[a],{ignoreHidden:!0,excluding:[this.ghostEl]})){var l=s.boundingRect(r[a]),n=r[a][m].options.emptyInsertThreshold,o=e>=l.left-n&&e<=l.right+n,g=t>=l.top-n&&t<=l.bottom+n;if(n&&o&&g)return r[a]}},_checkAlignment:function(e){h.draggable.dragEl&&h.draggable.dragEl.parentNode&&h.draggable._computeIsAligned(e)},_disableDraggable:function(e){e.draggable=!1},_handleAutoScroll:function(e,t){if(h.draggable.dragEl&&h.draggable.options.scroll)return b._handleAutoScroll(e,h.draggable.options,t,m)},_nulling:function(){h.rootEl=h.parentEl=h.nextEl=h.cloneEl=h.tapEvt=h.touchEvt=h.oldIndex=h.putSortable=h.activeGroup=h.active=null}};return h});
//# sourceMappingURL=sourcemaps/dnd.js.map
