/**
 * skylark-sortable - A version of sortable.js that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-sortable/
 * @license MIT
 */
define(["skylark-langx/skylark","skylark-langx/langx","skylark-domx-query","skylark-domx-browser","skylark-domx-noder","skylark-domx-finder","skylark-domx-geom","skylark-domx-styler","skylark-domx-eventer","./fallback/MousedDragDrop"],function(t,e,a,n,l,r,i,o,c,s){"use strict";var d="Sortable"+(new Date).getTime(),g={log:function(t,e){a("#console").append("<div>"+t+":"+e+"</div>")},expando:d,activeGroup:null,active:null,putSortable:null,sortables:[],cloneEl:null,ignoreNextClick:!1,awaitingDragStarted:!1,touchEvt:null,prepare:function(t){this.active=t,this.active.nativeDraggable||(this._fallbacker=new s(this))},start:function(t,e){this.active=t;this.active.elm().ownerDocument;this.active.nativeDraggable},over:function(t){},end:function(t){this.active.nativeDraggable,this._nulling()},nearestEmptyInsertDetectEvent:function(t){if(g.active.dragEl){var e=g._detectNearestEmptySortable(t.clientX,t.clientY);if(e){var a={};for(var n in t)a[n]=t[n];a.target=a.rootEl=e,a.preventDefault=void 0,a.stopPropagation=void 0,e[d]._onDragOver(a)}}},_detectNearestEmptySortable:function(t,e){for(var a=this.sortables,n=0;n<a.length;n++)if(!r.lastChild(a[n],{ignoreHidden:!0,excluding:[this.ghostEl]})){var l=i.boundingRect(a[n]),o=a[n][d].options.emptyInsertThreshold,c=t>=l.left-o&&t<=l.right+o,s=e>=l.top-o&&e<=l.bottom+o;if(o&&c&&s)return a[n]}},_checkAlignment:function(t){g.active.dragEl&&g.active.dragEl.parentNode&&g.active._computeIsAligned(t)},_disableDraggable:function(t){t.draggable=!1},_nulling:function(){g.rootEl=g.parentEl=g.nextEl=g.cloneEl=g.tapEvt=g.touchEvt=g.oldIndex=g.putSortable=g.activeGroup=g.active=null}};return g});
//# sourceMappingURL=sourcemaps/dnd.js.map
