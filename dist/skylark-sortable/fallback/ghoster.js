/**
 * skylark-sortable - A version of sortable.js that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-sortable/
 * @license MIT
 */
define(["skylark-langx/skylark","skylark-langx/langx","skylark-langx-hoster/isBrowser","skylark-langx-hoster/isMobile","skylark-domx-query","skylark-domx-browser","skylark-domx-noder","skylark-domx-finder","skylark-domx-geom","skylark-domx-styler","skylark-domx-eventer","skylark-domx-transforms","skylark-domx-plugins-scrolls/scrolling-element","skylark-domx-layouts/oriented","skylark-devices-points/touch"],function(t,o,e,s,l,i,n,r,a,h,g,d,c,k,u){"use strict";function f(t,o,e,s){if(t.getBoundingClientRect||t===window){var{top:l,left:i,bottom:n,right:r,width:h,height:g}=a.boundingRect(t);if(o&&t!==window){var c=d.matrix(e||t),k=c&&c.a,u=c&&c.d;c&&(n=(l/=u)+(g/=u),r=(i/=k)+(h/=k))}return{top:l,left:i,bottom:n,right:r,width:h,height:g}}}return{ghostEl:null,PositionGhostAbsolutely:s.apple.device,ghostRelativeParent:null,ghostRelativeParentInitialScroll:[],_appendGhost:function(t,o,e){var s=this.ghostEl;if(!s){var l=f(t,!0,o,this.PositionGhostAbsolutely);h.css(t);if(this.PositionGhostAbsolutely){for(var i=this.ghostRelativeParent=o;"static"===h.css(i,"position")&&"none"===h.css(i,"transform")&&i!==document;)i=i.parentNode;if(i!==document){var n=f(i,!0);l.top-=n.top,l.left-=n.left}i!==document.body&&i!==document.documentElement?(i===document&&(i=this.ghostRelativeParent=c()),l.top+=i.scrollTop,l.left+=i.scrollLeft):i=this.ghostRelativeParent=c(),ghostRelativeParentInitialScroll=autoscroll._getRelativeScrollOffset(i)}s=this.ghostEl=t.cloneNode(!0),h.toggleClass(s,e.ghostClass,!1),h.toggleClass(s,e.fallbackClass,!0),h.toggleClass(s,e.dragClass,!0),h.css(s,{"box-sizing":"border-box",margin:0,top:l.top,left:l.left,width:l.width,height:l.height,opacity:"0.8",position:this.PositionGhostAbsolutely?"absolute":"fixed",zIndex:"100000",pointerEvents:"none"}),o.appendChild(s)}},getRelativeScrollOffset:function(){return this.PositionGhostAbsolutely&&this.ghostRelativeParent&&autoscroll._getRelativeScrollOffset(this.ghostRelativeParent)},remove:function(){this.ghostEl&&n.remove(this.ghostEl),this.ghostEl=null}}});
//# sourceMappingURL=../sourcemaps/fallback/ghoster.js.map
