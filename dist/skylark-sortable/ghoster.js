/**
 * skylark-sortable - A version of sortable.js that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-sortable/
 * @license MIT
 */
define(["skylark-langx/skylark","skylark-langx/langx","skylark-langx-hoster/isBrowser","skylark-langx-hoster/isMobile","skylark-domx-query","skylark-domx-browser","skylark-domx-noder","skylark-domx-finder","skylark-domx-geom","skylark-domx-styler","skylark-domx-eventer","skylark-domx-transforms","skylark-domx-scrolls/scrollingElement","skylark-domx-layouts/oriented","skylark-devices-points/touch"],function(t,s,e,o,l,i,n,r,a,h,c,g,d,u,f){"use strict";function k(t,s,e,o){if(t.getBoundingClientRect||t===window){var{top:l,left:i,bottom:n,right:r,width:h,height:c}=a.boundingRect(t);if(s&&t!==window){var d=g.matrix(e||t),u=d&&d.a,f=d&&d.d;d&&(n=(l/=f)+(c/=f),r=(i/=u)+(h/=u))}return{top:l,left:i,bottom:n,right:r,width:h,height:c}}}return{ghostEl:null,PositionGhostAbsolutely:o.apple.device,ghostRelativeParent:null,ghostRelativeParentInitialScroll:[],_ghostIsLast:function(t,s,e){var o=a.boundingRect(r.lastChild(e,{ignoreHidden:!0,excluding:[this.ghostEl]})),l="vertical"===s?t.clientY:t.clientX,i="vertical"===s?t.clientX:t.clientY,n="vertical"===s?o.bottom:o.right,h="vertical"===s?o.left:o.top,c="vertical"===s?o.right:o.bottom;return"vertical"===s?i>c+10||i<=c&&l>n&&i>=h:l>n&&i>h||l<=n&&i>c+10},_lastChild:function(t){return r.lastChild(t,{ignoreHidden:!0,excluding:[this.ghostEl]})},_appendGhost:function(t,s,e){var o=this.ghostEl;if(!o){var l=k(t,!0,s,this.PositionGhostAbsolutely);h.css(t);if(this.PositionGhostAbsolutely){for(var i=this.ghostRelativeParent=s;"static"===h.css(i,"position")&&"none"===h.css(i,"transform")&&i!==document;)i=i.parentNode;if(i!==document){var n=k(i,!0);l.top-=n.top,l.left-=n.left}i!==document.body&&i!==document.documentElement?(i===document&&(i=this.ghostRelativeParent=d()),l.top+=i.scrollTop,l.left+=i.scrollLeft):i=this.ghostRelativeParent=d(),ghostRelativeParentInitialScroll=autoscroll._getRelativeScrollOffset(i)}o=this.ghostEl=t.cloneNode(!0),h.toggleClass(o,e.ghostClass,!1),h.toggleClass(o,e.fallbackClass,!0),h.toggleClass(o,e.dragClass,!0),h.css(o,"box-sizing","border-box"),h.css(o,"margin",0),h.css(o,"top",l.top),h.css(o,"left",l.left),h.css(o,"width",l.width),h.css(o,"height",l.height),h.css(o,"opacity","0.8"),h.css(o,"position",this.PositionGhostAbsolutely?"absolute":"fixed"),h.css(o,"zIndex","100000"),h.css(o,"pointerEvents","none"),s.appendChild(o)}},getRelativeScrollOffset:function(){return this.PositionGhostAbsolutely&&this.ghostRelativeParent&&autoscroll._getRelativeScrollOffset(this.ghostRelativeParent)},remove:function(){this.ghostEl&&n.remove(this.ghostEl)}}});
//# sourceMappingURL=sourcemaps/ghoster.js.map
