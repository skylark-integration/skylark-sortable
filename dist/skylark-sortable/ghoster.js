/**
 * skylark-sortable - A version of sortable.js that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-sortable/
 * @license MIT
 */
define(["skylark-langx/skylark","skylark-langx/langx","skylark-langx-hoster/isBrowser","skylark-langx-hoster/isMobile","skylark-domx-query","skylark-domx-browser","skylark-domx-noder","skylark-domx-finder","skylark-domx-geom","skylark-domx-styler","skylark-domx-eventer","skylark-domx-transforms","skylark-domx-scrolls/scrollingElement","skylark-domx-layouts/oriented","skylark-devices-points/touch"],function(t,s,e,o,l,i,n,r,a,c,h,d,g,u,f){function k(t,s,e,o){if(t.getBoundingClientRect||t===window){var{top:l,left:i,bottom:n,right:r,width:c,height:h}=a.boundingRect(t);if(s&&t!==window){var g=d.matrix(e||t),u=g&&g.a,f=g&&g.d;g&&(n=(l/=f)+(h/=f),r=(i/=u)+(c/=u))}return{top:l,left:i,bottom:n,right:r,width:c,height:h}}}return{ghostEl:null,PositionGhostAbsolutely:o.apple.device,ghostRelativeParent:null,ghostRelativeParentInitialScroll:[],_ghostIsLast:function(t,s,e){var o=a.boundingRect(r.lastChild(e,{ignoreHidden:!0,excluding:[this.ghostEl]})),l="vertical"===s?t.clientY:t.clientX,i="vertical"===s?t.clientX:t.clientY,n="vertical"===s?o.bottom:o.right,c="vertical"===s?o.left:o.top,h="vertical"===s?o.right:o.bottom;return"vertical"===s?i>h+10||i<=h&&l>n&&i>=c:l>n&&i>c||l<=n&&i>h+10},_lastChild:function(t){return r.lastChild(t,{ignoreHidden:!0,excluding:[this.ghostEl]})},_appendGhost:function(t,s,e){var o=this.ghostEl;if(!o){var l=k(t,!0,s,this.PositionGhostAbsolutely);c.css(t);if(this.PositionGhostAbsolutely){for(var i=this.ghostRelativeParent=s;"static"===c.css(i,"position")&&"none"===c.css(i,"transform")&&i!==document;)i=i.parentNode;if(i!==document){var n=k(i,!0);l.top-=n.top,l.left-=n.left}i!==document.body&&i!==document.documentElement?(i===document&&(i=this.ghostRelativeParent=g()),l.top+=i.scrollTop,l.left+=i.scrollLeft):i=this.ghostRelativeParent=g(),ghostRelativeParentInitialScroll=autoscroll._getRelativeScrollOffset(i)}o=this.ghostEl=t.cloneNode(!0),c.toggleClass(o,e.ghostClass,!1),c.toggleClass(o,e.fallbackClass,!0),c.toggleClass(o,e.dragClass,!0),c.css(o,"box-sizing","border-box"),c.css(o,"margin",0),c.css(o,"top",l.top),c.css(o,"left",l.left),c.css(o,"width",l.width),c.css(o,"height",l.height),c.css(o,"opacity","0.8"),c.css(o,"position",this.PositionGhostAbsolutely?"absolute":"fixed"),c.css(o,"zIndex","100000"),c.css(o,"pointerEvents","none"),s.appendChild(o)}},getRelativeScrollOffset:function(){return this.PositionGhostAbsolutely&&this.ghostRelativeParent&&autoscroll._getRelativeScrollOffset(this.ghostRelativeParent)}}});
//# sourceMappingURL=sourcemaps/ghoster.js.map
