/**
 * skylark-sortable - A version of sortable.js that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-sortable/
 * @license MIT
 */
define(["skylark-langx/skylark","skylark-langx/langx","skylark-langx-hoster/isBrowser","skylark-langx-hoster/isMobile","skylark-domx-query","skylark-domx-browser","skylark-domx-noder","skylark-domx-finder","skylark-domx-geom","skylark-domx-styler","skylark-domx-eventer","skylark-domx-transforms","skylark-domx-scrolls/scrollingElement","skylark-domx-layouts/oriented","skylark-devices-points/touch","./autoscroll"],function(t,e,o,n,i,r,a,s,l,c,d,h,u,g,f,p){function v(t,e){i("#console").append("<div>"+t+":"+e+"</div>")}var m,b,_,y,D,C,k,w,S,T,x,E,I,A,N,P,R,M,X,Y,O,B,F,H=!1,G=!1,L=[],U=!1,z=!1,j=[],q="Sortable"+(new Date).getTime(),W=window,Z=W.document,J=W.parseInt,K=W.setTimeout,Q=(W.Polymer,o&&o.ie),V=o&&o.edge,$=o&&o.firefox,tt=o&&o.safari,et=(n&&n.apple.device,n.apple.device),ot="draggable"in Z.createElement("div")&&!n.apple.device,nt=r.support.cssPointerEvents;_silent=!1,_alignedSilent=!1,abs=Math.abs,min=Math.min,max=Math.max,savedInputChecked=[],_detectDirection=function(t,e){return e.excluding=[_,m],g(t,e)},_detectNearestEmptySortable=function(t,e){for(var o=0;o<L.length;o++)if(!at(L[o])){var n=l.boundingRect(L[o]),i=L[o][q].options.emptyInsertThreshold,r=t>=n.left-i&&t<=n.right+i,a=e>=n.top-i&&e<=n.bottom+i;if(i&&r&&a)return L[o]}},_isClientInRowColumn=function(t,e,o,n,i){var r=l.boundingRect(o),a="vertical"===n?r.left:r.top,s="vertical"===n?r.right:r.bottom,c="vertical"===n?t:e;return a<c&&c<s},_isElInRowColumn=function(t,e,o){var n=t===m&&F||l.boundingRect(t),i=e===m&&F||l.boundingRect(e),r="vertical"===o?n.left:n.top,a="vertical"===o?n.right:n.bottom,s="vertical"===o?n.width:n.height,c="vertical"===o?i.left:i.top,d="vertical"===o?i.right:i.bottom,h="vertical"===o?i.width:i.height;return r===c||a===d||r+s/2===c+h/2},_prepareGroup=function(t){function e(t,o){return function(n,i,r,a){var s=n.options.group.name&&i.options.group.name&&n.options.group.name===i.options.group.name;if(null==t&&(o||s))return!0;if(null==t||!1===t)return!1;if(o&&"clone"===t)return t;if("function"==typeof t)return e(t(n,i,r,a),o)(n,i,r,a);var l=(o?n:i).options.group.name;return!0===t||"string"==typeof t&&t===l||t.join&&t.indexOf(l)>-1}}var o={},n=t.group;n&&"object"==typeof n||(n={name:n}),o.name=n.name,o.checkPull=e(n.pull,!0),o.checkPut=e(n.put),o.revertClone=n.revertClone,t.group=o},_checkAlignment=function(t){m&&m.parentNode&&m.parentNode[q]&&m.parentNode[q]._computeIsAligned(t)},_hideGhostForTarget=function(){!nt&&_&&c.css(_,"display","none")},_unhideGhostForTarget=function(){!nt&&_&&c.css(_,"display","")},Z.addEventListener("click",function(t){if(G)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),G=!1,!1},!0);var it=function(t){if(m){t=t.touches?t.touches[0]:t;var e=_detectNearestEmptySortable(t.clientX,t.clientY);if(e){var o={};for(var n in t)o[n]=t[n];o.target=o.rootEl=e,o.preventDefault=void 0,o.stopPropagation=void 0,e[q]._onDragOver(o)}}};function rt(t,e,o){if(t){var n=t.getElementsByTagName(e),i=0,r=n.length;if(o)for(;i<r;i++)o(n[i],i);return n}return[]}function at(t){return s.lastChild(t,{ignoreHidden:!0,excluding:[_]})}function st(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,o=e.length,n=0;o--;)n+=e.charCodeAt(o);return n.toString(36)}function lt(t,e){return s.index(t,function(t){return!("TEMPLATE"===t.nodeName.toUpperCase()||t===y||e&&!s.matches(t,e))})}function ct(t){return e.defer(t)}function dt(t){return t&&t.stop()}function ht(t,e,o,n){if(t.getBoundingClientRect||t===W){var{top:i,left:r,bottom:a,right:s,width:c,height:d}=l.boundingRect(t);if(e&&t!==W){var u=h.matrix(o||t),g=u&&u.a,f=u&&u.d;u&&(a=(i/=f)+(d/=f),s=(r/=g)+(c/=g))}return{top:i,left:r,bottom:a,right:s,width:c,height:d}}}function ut(t,o){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be HTMLElement, not "+{}.toString.call(t);this.el=t,this.options=o=e.mixin({},o),t[q]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0,draggable:/[uo]l/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return _detectDirection(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:J(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==ut.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var i in n)!(i in o)&&(o[i]=n[i]);for(var r in _prepareGroup(o),this)"_"===r.charAt(0)&&"function"==typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!o.forceFallback&&ot,this.nativeDraggable&&(this.options.touchStartThreshold=1),f.mousy(t),d.on(t,"mousedown",this._onTapStart),this.nativeDraggable&&(d.on(t,"dragover",this),d.on(t,"dragenter",this)),L.push(this.el),o.store&&o.store.get&&this.sort(o.store.get(this)||[])}function gt(t,e,o,n,i,r,a,s,l,c,h){var u,g=(t=t||e[q]).options,f="on"+o.charAt(0).toUpperCase()+o.substr(1);u=d.create(o,{to:i||e,from:r||e,item:n||e,clone:y,oldIndex:a,newIndex:s,oldDraggableIndex:l,newDraggableIndex:c,originalEvent:h,pullMode:I?I.lastPutMode:void 0}),e&&e.dispatchEvent(u),g[f]&&g[f].call(t,u)}function ft(t,e,o,n,i,r,a,s){var c,h,u=t[q],g=u.options.onMove;return c=d.create("move",{to:e,from:t,dragged:o,draggedRect:n,related:i||e,relatedRect:r||l.boundingRect(e),willInsertAfter:s,originalEvent:a}),t.dispatchEvent(c),g&&(h=g.call(u,c,a)),h}function pt(t){t.draggable=!1}function vt(){_silent=!1}return d.on(Z,"touchmove",function(t){(ut.active||H)&&t.cancelable&&t.preventDefault()}),ut.prototype={constructor:ut,_computeIsAligned:function(t){var e;if(_&&!nt?(_hideGhostForTarget(),e=Z.elementFromPoint(t.clientX,t.clientY),_unhideGhostForTarget()):e=t.target,e=s.closest(e,this.options.draggable,this.el,!1),!_alignedSilent&&m&&m.parentNode===this.el){for(var o=this.el.children,n=0;n<o.length;n++)s.closest(o[n],this.options.draggable,this.el,!1)&&o[n]!==e&&(o[n].sortableMouseAligned=_isClientInRowColumn(t.clientX,t.clientY,o[n],this._getDirection(t,null),this.options));s.closest(e,this.options.draggable,this.el,!0)||(M=null),_alignedSilent=!0,K(function(){_alignedSilent=!1},30)}},_getDirection:function(t,e){return"function"==typeof this.options.direction?this.options.direction.call(this,t,e,m):this.options.direction},_onTapStart:function(t){var e,o,n=this,i=this.el,r=this.options,a=r.preventOnFilter,l=t.type,c=t.touches&&t.touches[0],d=(c||t).target,h=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||d,u=r.filter;if(function(t){savedInputChecked.length=0;for(var e=t.getElementsByTagName("input"),o=e.length;o--;){var n=e[o];n.checked&&savedInputChecked.push(n)}}(i),!m&&!(/mousedown|pointerdown/.test(l)&&0!==t.button||r.disabled||h.isContentEditable||(d=s.closest(d,r.draggable,i,!1),k===d))){if(v("_onTapStart",d.tagName+","+d.className),e=lt(d),o=lt(d,r.draggable),"function"==typeof u){if(u.call(this,t,d,this))return gt(n,h,"filter",d,i,i,e,void 0,o),void(a&&t.cancelable&&t.preventDefault())}else if(u&&(u=u.split(",").some(function(t){if(t=s.closest(h,t.trim(),i,!1))return gt(n,t,"filter",d,i,i,e,void 0,o),!0})))return void(a&&t.cancelable&&t.preventDefault());r.handle&&!s.closest(h,r.handle,i,!1)||this._prepareDragStart(t,c,d,e,o)}},_handleAutoScroll:function(t,e){if(m&&this.options.scroll)return p._handleAutoScroll(t,this.options,e)},_prepareDragStart:function(t,e,o,n,i){var r,a=this,s=a.el,l=a.options,h=s.ownerDocument;v("_prepareDragStart","start"),o&&!m&&o.parentNode===s&&(D=s,b=(m=o).parentNode,C=m.nextSibling,k=o,E=l.group,w=n,T=i,N={target:m,clientX:(e||t).clientX,clientY:(e||t).clientY},this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,m.style["will-change"]="all",m.style.transition="",m.style.transform="",r=function(){a._disableDelayedDragEvents(),!$&&a.nativeDraggable&&(m.draggable=!0),a._triggerDragStart(t,e),gt(a,D,"choose",m,D,D,w,void 0,T),c.toggleClass(m,l.chosenClass,!0)},l.ignore.split(",").forEach(function(t){rt(m,t.trim(),pt)}),d.on(h,"dragover",it),d.on(h,"mousemove",it),d.on(h,"mouseup",a._onDrop),$&&this.nativeDraggable&&(this.options.touchStartThreshold=4,m.draggable=!0),!l.delay||l.delayOnTouchOnly&&!e||this.nativeDraggable&&(V||Q)?r():(d.on(h,"mouseup",a._disableDelayedDrag),d.on(h,"mousemove",a._delayedDragTouchMoveHandler),a._dragStartTimer=K(r,l.delay)))},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;max(abs(e.clientX-this._lastX),abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){m&&pt(m),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;d.off(t,"mouseup",this._disableDelayedDrag),d.off(t,"mousemove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){v("_triggerDragStart","start"),v("_triggerDragStart","nativeDraggable is "+this.nativeDraggable),this.nativeDraggable?(d.on(m,"dragend",this),d.on(D,"dragstart",this._onDragStart)):d.on(Z,"mousemove",this._onTouchMove);try{Z.selection?ct(function(){Z.selection.empty()}):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(t,e){if(H=!1,D&&m){this.nativeDraggable&&(d.on(Z,"dragover",this._handleAutoScroll),d.on(Z,"dragover",_checkAlignment));var o=this.options;!t&&c.toggleClass(m,o.dragClass,!1),c.toggleClass(m,o.ghostClass,!0),c.css(m,"transform",""),ut.active=this,t&&this._appendGhost(),gt(this,D,"start",m,D,D,w,void 0,T,void 0,e)}else this._nulling()},_emulateDragOver:function(t){if(P){if(this._lastX===P.clientX&&this._lastY===P.clientY&&!t)return;this._lastX=P.clientX,this._lastY=P.clientY,_hideGhostForTarget();for(var e=Z.elementFromPoint(P.clientX,P.clientY),o=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(P.clientX,P.clientY))!==o;)o=e;if(o)do{if(o[q])if(o[q]._onDragOver({clientX:P.clientX,clientY:P.clientY,target:e,rootEl:o})&&!this.options.dragoverBubble)break;e=o}while(o=o.parentNode);m.parentNode[q]._computeIsAligned(P),_unhideGhostForTarget()}},_onTouchMove:function(t,e){if(v("_onTouchMove","start"),N){var o=this.options,n=o.fallbackTolerance,i=o.fallbackOffset,r=t.touches?t.touches[0]:t,a=_&&h.matrix(_),s=_&&a&&a.a,l=_&&a&&a.d,d=et&&B&&_getRelativeScrollOffset(B),u=(r.clientX-N.clientX+i.x)/(s||1)+(d?d[0]-j[0]:0)/(s||1),g=(r.clientY-N.clientY+i.y)/(l||1)+(d?d[1]-j[1]:0)/(l||1),f=t.touches?"translate3d("+u+"px,"+g+"px,0)":"translate("+u+"px,"+g+"px)";if(!ut.active&&!H){if(n&&min(abs(r.clientX-this._lastX),abs(r.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}!e&&this._handleAutoScroll(r,!0),R=!0,P=r,_&&(c.css(_,"webkitTransform",f),c.css(_,"mozTransform",f),c.css(_,"msTransform",f),c.css(_,"transform",f)),t.preventDefault()}},_appendGhost:function(){if(!_){var t=this.options.fallbackOnBody?Z.body:D,e=ht(m,!0,t),o=(c.css(m),this.options);if(et){for(B=t;"static"===c.css(B,"position")&&"none"===c.css(B,"transform")&&B!==Z;)B=B.parentNode;if(B!==Z){var n=ht(B,!0);e.top-=n.top,e.left-=n.left}B!==Z.body&&B!==Z.documentElement?(B===Z&&(B=u()),e.top+=B.scrollTop,e.left+=B.scrollLeft):B=u(),j=_getRelativeScrollOffset(B)}_=m.cloneNode(!0),c.toggleClass(_,o.ghostClass,!1),c.toggleClass(_,o.fallbackClass,!0),c.toggleClass(_,o.dragClass,!0),c.css(_,"box-sizing","border-box"),c.css(_,"margin",0),c.css(_,"top",e.top),c.css(_,"left",e.left),c.css(_,"width",e.width),c.css(_,"height",e.height),c.css(_,"opacity","0.8"),c.css(_,"position",et?"absolute":"fixed"),c.css(_,"zIndex","100000"),c.css(_,"pointerEvents","none"),t.appendChild(_)}},_animate:function(t,e){var o=this.options.animation;if(o){var n=l.boundingRect(e);if(e===m&&(F=n),1===t.nodeType&&(t=l.boundingRect(t)),t.left+t.width/2!==n.left+n.width/2||t.top+t.height/2!==n.top+n.height/2){var i=h.matrix(this.el),r=i&&i.a,a=i&&i.d;c.css(e,"transition","none"),c.css(e,"transform","translate3d("+(t.left-n.left)/(r||1)+"px,"+(t.top-n.top)/(a||1)+"px,0)"),this._repaint(e),c.css(e,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),c.css(e,"transform","translate3d(0,0,0)")}"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=K(function(){c.css(e,"transition",""),c.css(e,"transform",""),e.animated=!1},o)}},_repaint:function(t){return t.offsetWidth},_offMoveEvents:function(){d.off(Z,"dragover",it),d.off(Z,"mousemove",it)},_offUpEvents:function(){var t=this.el.ownerDocument;d.off(t,"mouseup",this._onDrop),d.off(Z,"selectstart",this)},_onDragStart:function(t,e){var o=this,n=t.dataTransfer,i=o.options;(y=a.clone(m,!0)).draggable=!1,y.style["will-change"]="",this._hideClone(),c.toggleClass(y,o.options.chosenClass,!1),o._cloneId=ct(function(){o.options.removeCloneOnHide||D.insertBefore(y,m),gt(o,D,"clone",m)}),!e&&c.toggleClass(m,i.dragClass,!0),e?(G=!0,o._loopId=setInterval(o._emulateDragOver,50)):(d.off(Z,"mouseup",o._onDrop),n&&(n.effectAllowed="move",i.setData&&i.setData.call(o,n,m)),d.on(Z,"drop",o),c.css(m,"transform","translateZ(0)")),H=!0,o._dragStartId=ct(o._dragStarted.bind(o,e,t)),d.on(Z,"selectstart",o),tt&&c.css(Z.body,"user-select","none")},_onDragOver:function(t){var e,o,n,i=this.el,r=t.target,a=this.options,d=a.group,h=ut.active,u=E===d,g=a.sort,f=this;if(!_silent){if(void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),R=!0,r=s.closest(r,a.draggable,i,!0),m.contains(t.target)||r.animated)return j(!1);if(r!==m&&(G=!1),h&&!a.disabled&&(u?g||(n=!D.contains(m)):I===this||(this.lastPutMode=E.checkPull(this,h,m,t))&&d.checkPut(this,h,m,t))){var v=this._getDirection(t,r);if(e=l.boundingRect(m),n)return this._hideClone(),b=D,C?D.insertBefore(m,C):D.appendChild(m),j(!0);var _=at(i);if(!_||function(t,e,o){var n=l.boundingRect(at(o)),i="vertical"===e?t.clientY:t.clientX,r="vertical"===e?t.clientX:t.clientY,a="vertical"===e?n.bottom:n.right,s="vertical"===e?n.left:n.top,c="vertical"===e?n.right:n.bottom;return"vertical"===e?r>c+10||r<=c&&i>a&&r>=s:i>a&&r>s||i<=a&&r>c+10}(t,v,i)&&!_.animated){if(_&&i===t.target&&(r=_),r&&(o=l.boundingRect(r)),u?h._hideClone():h._showClone(this),!1!==ft(D,i,m,e,r,o,t,!!r))return i.appendChild(m),b=i,F=null,W(),j(!0)}else if(r&&r!==m&&r.parentNode===i){var y,k=0,S=r.sortableMouseAligned,x=m.parentNode!==i,A="vertical"===v?"top":"left",N=p._isScrolledPast(r,"top")||p._isScrolledPast(m,"top"),P=N?N.scrollTop:void 0;if(M!==r&&(Y=null,y=l.boundingRect(r)[A],U=!1),_isElInRowColumn(m,r,v)&&S||x||N||a.invertSwap||"insert"===Y||"swap"===Y?("swap"!==Y&&(z=a.invertSwap||x),k=function(t,e,o,n,i,r,a){var s=l.boundingRect(e),c="vertical"===o?t.clientY:t.clientX,d="vertical"===o?s.height:s.width,h="vertical"===o?s.top:s.left,u="vertical"===o?s.bottom:s.right,g=l.boundingRect(m),f=!1;if(!r)if(a&&O<d*n){if(!U&&(1===X?c>h+d*i/2:c<u-d*i/2)&&(U=!0),U)f=!0;else if("vertical"===o?g.top:g.left,"vertical"===o?g.bottom:g.right,1===X?c<h+O:c>u-O)return-1*X}else if(c>h+d*(1-n)/2&&c<u-d*(1-n)/2)return J(e);return(f=f||r)&&(c<h+d*i/2||c>u-d*i/2)?c>h+d/2?1:-1:0}(t,r,v,a.swapThreshold,null==a.invertedSwapThreshold?a.swapThreshold:a.invertedSwapThreshold,z,M===r),Y="swap"):(k=J(r),Y="insert"),0===k)return j(!1);F=null,M=r,X=k,o=l.boundingRect(r);var B=r.nextElementSibling,H=!1,L=ft(D,i,m,e,r,o,t,H=1===k);if(!1!==L)return 1!==L&&-1!==L||(H=1===L),_silent=!0,K(vt,30),u?h._hideClone():h._showClone(this),H&&!B?i.appendChild(m):r.parentNode.insertBefore(m,H?B:r),N&&l.scrollBy(N,0,P-N.scrollTop),b=m.parentNode,void 0===y||z||(O=abs(y-l.boundingRect(r)[A])),W(),j(!0)}if(i.contains(m))return j(!1)}return!1}function j(n){return n&&(u?h._hideClone():h._showClone(f),h&&(c.toggleClass(m,I?I.options.ghostClass:h.options.ghostClass,!1),c.toggleClass(m,a.ghostClass,!0)),I!==f&&f!==ut.active?I=f:f===ut.active&&(I=null),e&&f._animate(e,m),r&&o&&f._animate(o,r)),(r===m&&!m.animated||r===i&&!r.animated)&&(M=null),a.dragoverBubble||t.rootEl||r===Z||(f._handleAutoScroll(t),m.parentNode[q]._computeIsAligned(t),!n&&it(t)),!a.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),!0}function W(){gt(f,D,"change",r,i,D,w,lt(m),T,lt(m,a.draggable),t)}function J(t){return lt(m)<lt(t)?1:-1}},_onDrop:function(t){var e=this.el,o=this.options;H=!1,scrolling=!1,z=!1,U=!1,clearInterval(this._loopId),clearInterval(A),p._clearAutoScrolls(),p._cancelThrottle(),clearTimeout(this._dragStartTimer),dt(this._cloneId),dt(this._dragStartId),d.off(Z,"mousemove",this._onTouchMove),this.nativeDraggable&&(d.off(Z,"drop",this),d.off(e,"dragstart",this._onDragStart),d.off(Z,"dragover",this._handleAutoScroll),d.off(Z,"dragover",_checkAlignment)),tt&&c.css(Z.body,"user-select",""),this._offMoveEvents(),this._offUpEvents(),t&&(R&&(t.cancelable&&t.preventDefault(),!o.dropBubble&&t.stopPropagation()),_&&_.parentNode&&_.parentNode.removeChild(_),(D===b||I&&"clone"!==I.lastPutMode)&&y&&y.parentNode&&y.parentNode.removeChild(y),m&&(this.nativeDraggable&&d.off(m,"dragend",this),pt(m),m.style["will-change"]="",c.toggleClass(m,I?I.options.ghostClass:this.options.ghostClass,!1),c.toggleClass(m,this.options.chosenClass,!1),gt(this,D,"unchoose",m,b,D,w,null,T,null,t),D!==b?(S=lt(m),x=lt(m,o.draggable),S>=0&&(gt(null,b,"add",m,b,D,w,S,T,x,t),gt(this,D,"remove",m,b,D,w,S,T,x,t),gt(null,b,"sort",m,b,D,w,S,T,x,t),gt(this,D,"sort",m,b,D,w,S,T,x,t)),I&&I.save()):m.nextSibling!==C&&(S=lt(m),x=lt(m,o.draggable),S>=0&&(gt(this,D,"update",m,b,D,w,S,T,x,t),gt(this,D,"sort",m,b,D,w,S,T,x,t))),ut.active&&(null!=S&&-1!==S||(S=w,x=T),gt(this,D,"end",m,b,D,w,S,T,x,t),this.save()))),this._nulling()},_nulling:function(){D=m=b=_=C=y=k=p.autoScrolls.length=A=N=P=R=S=w=M=X=F=I=E=ut.active=null,savedInputChecked.forEach(function(t){t.checked=!0}),savedInputChecked.length=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":m&&(this._onDragOver(t),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move");t.cancelable&&t.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],o=this.el.children,n=0,i=o.length,r=this.options;n<i;n++)t=o[n],s.closest(t,r.draggable,this.el,!1)&&e.push(t.getAttribute(r.dataIdAttr)||st(t));return e},sort:function(t){var e={},o=this.el;this.toArray().forEach(function(t,n){var i=o.children[n];s.closest(i,this.options.draggable,o,!1)&&(e[t]=i)},this),t.forEach(function(t){e[t]&&(o.removeChild(e[t]),o.appendChild(e[t]))})},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return s.closest(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var o=this.options;if(void 0===e)return o[t];o[t]=e,"group"===t&&_prepareGroup(o)},destroy:function(){var t=this.el;t[q]=null,d.off(t,"mousedown",this._onTapStart),this.nativeDraggable&&(d.off(t,"dragover",this),d.off(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),L.splice(L.indexOf(this.el),1),this.el=t=null},_hideClone:function(){y.cloneHidden||(c.css(y,"display","none"),y.cloneHidden=!0,y.parentNode&&this.options.removeCloneOnHide&&y.parentNode.removeChild(y))},_showClone:function(t){"clone"===t.lastPutMode?y.cloneHidden&&(D.contains(m)&&!this.options.group.revertClone?D.insertBefore(y,m):C?D.insertBefore(y,C):D.appendChild(y),this.options.group.revertClone&&this._animate(m,y),c.css(y,"display",""),y.cloneHidden=!1):this._hideClone()}},ut.utils={on:d.on,off:d.off,css:c.css,find:rt,is:function(t,e){return!!s.closest(t,e,t,!1)},extend:e.mixin,throttle:p._throttle,closest:s.closest,toggleClass:c.toggleClass,clone:function(t){return a.clone(t,!0)},index:lt,nextTick:ct,cancelNextTick:dt,detectDirection:_detectDirection,getChild:function(t,e,o){return o.excluding=[],o.closesting=o.draggable,s.childAt(t,e,o)}},ut.create=function(t,e){return new ut(t,e)},ut.version="1.9.0",t.attach("intg.Sortable",ut)});
//# sourceMappingURL=sourcemaps/Sortable.js.map
